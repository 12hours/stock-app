product.table.name = ${product.table.name}
product_type.table.name = ${product_type.table.name}
product_income.table.name = ${product_income.table.name}
product_outcome.table.name = ${product_outcome.table.name}


product.column.id = ${product.column.id.name}
product.column.price = ${product.column.price.name}
product.column.name = ${product.column.name.name}
product_type.column.id = ${product_type.column.id.name}
product_type.column.name = ${product_type.column.name.name}
product.column.quantity = ${product.column.quantity.name}

product.get.by_id = \
SELECT * FROM ${product.table.name} WHERE ${product.table.name}.${product.column.id.name} = ?;

product.quantity.get.all =  \
SELECT 	_product.${product.column.id.name} AS ${product.column.id.name}, \
		_product.${product.column.name.name} AS ${product.column.name.name}, \
        _product.${product.column.price.name} AS ${product.column.price.name}, \
        _product_type.${product_type.column.id.name} AS ${product_type.column.id.name}, \
        _product_type.${product_type.column.name.name} AS ${product_type.column.name.name}, \
        _product_quantity.quantity AS ${product.column.quantity.name} \
	FROM \
	(SELECT _product_income.product_id AS product_id, \
			(_product_income.quantity - (SELECT(CASE WHEN _product_outcome.quantity IS NULL THEN 0 ELSE _product_outcome.quantity END))) AS quantity \
		FROM \
		(SELECT _product_income.${product_income.column.product_id.name} AS product_id, SUM(_product_income.${product_income.column.quantity.name}) AS quantity \
			FROM ${product_income.table.name} AS _product_income \
			GROUP BY _product_income.${product_income.column.product_id.name} \
		) AS _product_income \
		LEFT JOIN \
		(SELECT _product_outcome.${product_outcome.column.product_id.name} AS product_id, SUM(_product_outcome.${product_outcome.column.quantity.name}) AS quantity \
			FROM ${product_outcome.table.name} AS _product_outcome \
			GROUP BY _product_outcome.${product_outcome.column.product_id.name} \
		) AS _product_outcome \
		ON _product_income.product_id = _product_outcome.product_id \
	)AS _product_quantity \
JOIN ${product.table.name} AS _product ON _product.${product.column.id.name} = _product_quantity.product_id \
JOIN ${product_type.table.name} AS _product_type ON _product.${product.column.product_type_id.name} = _product_type.${product_type.column.id.name} \
ORDER BY ${product.column.id.name}; \